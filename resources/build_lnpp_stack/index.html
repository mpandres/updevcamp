<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><link href="http://gmpg.org/xfn/11" rel="profile"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><title>Build your own LNPP Stack</title><link rel="stylesheet" href="/css/main.css"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png"><link href="/favicon.png" rel="icon"><link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'><link href="http://fonts.googleapis.com/css?family=Roboto+Slab:300" rel="stylesheet" type="text/css"><link href="" rel="alternate" type="application/rss+xml" title="UP CSI Devcamp &middot; "/><meta name="description" content="CSI Devcamp provides a space and network for motivated students to learn and create awesome stuff"><meta name="keywords" content="Devcamp, UP, CSI, Computer, Science, UP CSI Devcamp, Bootcamp, Mentorship, Mentor, Mentee"> </head><body> <header><h1><a href="/"><span class="color-csi">UP CSI</span> Devcamp</a></h1><nav><ul><li> <a href="/resources">Resources</a></li><li> <a href="/tracks">Tracks</a></li></ul></nav></header><div class="main-wrapper">  <div class="content container">  <a href="/resources">&lt; Resources</a><article class="resource-post"><h1 class="post-title">Build your own LNPP Stack</h1> <span class="post-by"> by: <span class="author-name"><a class="label" href="/authors/neil">Neil Calabroso</a></span> </span> 

<p>Set-up an <strong>nginx</strong>, <strong>php</strong>, <strong>PostgreSQL</strong>, and <strong>phppgadmin</strong> development environment in your Linux machine.</p>

<h2 id="linux:e015295be2249bad12948027ea58e47d">Linux</h2>

<p><strong>Supported Distributions</strong>
1. Ubuntu (Precise Pangolin)
2. ElementaryOS (Luna)
3. Linux Mint (Cinnamon)</p>

<h3 id="update-your-system:e015295be2249bad12948027ea58e47d">Update your system</h3>

<pre><code class="language-bash">sudo apt-get update
sudo apt-get upgrade
</code></pre>

<h3 id="installing-nginx:e015295be2249bad12948027ea58e47d">Installing nginx</h3>

<pre><code class="language-bash">sudo apt-get install nginx
</code></pre>

<h3 id="installing-php:e015295be2249bad12948027ea58e47d">Installing php</h3>

<pre><code class="language-bash">sudo apt-get install php5 php5-common php5-fpm php5-cli php5-mcrypt php5-pgsql
</code></pre>

<p><strong>Note</strong>: You might encounter a bug in Ubuntu 14.10 about the icedtea-7-plugin. If you receive such an error, you can use this workaround:</p>

<pre><code class="language-bash">sudo ln -sv /usr/lib/jvm/java-7-openjdk-amd64 /usr/lib/jvm/java-8-openjdk-amd64
sudo apt-get install -f
</code></pre>

<h3 id="installing-postgres:e015295be2249bad12948027ea58e47d">Installing postgres</h3>

<pre><code class="language-bash">sudo apt-get install python-software-properties
sudo apt-get install postgresql
sudo apt-get install libpq-dev
</code></pre>

<h3 id="set-up-postgres:e015295be2249bad12948027ea58e47d">Set-up postgres</h3>

<pre><code class="language-bash">sudo -u postgres createuser --superuser $USER
sudo -u postgres psql
</code></pre>

<p>Once you entered the <code>postgresql REPL</code>, setup the password for the user:</p>

<pre><code class="language-bash">postgres=# \password [enter your username here] #e.g. neil
</code></pre>

<p>Once you exit the REPL, create a database for the created user:</p>

<pre><code class="language-bash">createdb $USER
</code></pre>

<p>Finally, you can now create a database using this command:</p>

<pre><code class="language-bash">createdb my_database #change 'my_database'
</code></pre>

<h3 id="installing-phppgadmin:e015295be2249bad12948027ea58e47d">Installing phppgadmin</h3>

<pre><code class="language-bash">sudo apt-get install phppgadmin
</code></pre>

<p><strong>Note</strong>: Version 5.1-1 is dependent on libapache2-mod-php5 and apache2. To install phppgadmin without installing the apache dependencies, you would have to manually download the compressed folder from <a href="phppgadmin.sourceforge.net/doku.php?id=download">sourceforge</a> and extract to <code>/usr/share</code>.</p>

<h3 id="creating-a-virtual-host-for-phppgadmin:e015295be2249bad12948027ea58e47d">Creating a virtual host for phppgadmin</h3>

<p>Create <code>/etc/nginx/sites-available/app.phppgadmin.dev</code> which should look like this:</p>

<pre><code class="language-bash">server {
  listen 80;

  root /usr/share/phppgadmin; # if you downloaded phppgadmin manually, rename this to the name of the extracted folder

  index index.php;

  #You can change this depending on your wanted url
  #In case you change this one, rename this file also.
  server_name app.phppgadmin.dev;

  access_log  /var/log/app.phppgadmin.dev.access.log;

  error_log   /var/log/app.phppgadmin.dev.error.log;

  location / {
    allow all;
  }

  location ~ \.php$ {
    include phpfpm_params;
    allow all;
  }

  location ~ /\.ht {
    deny all;
  }
}
</code></pre>

<p>Next, create <code>/etc/nginx/phpfpm_params</code> which should contain these configurations:</p>

<pre><code class="language-bash">fastcgi_split_path_info      ^(.+\.php)(.*)$;
fastcgi_pass                 unix:/var/run/php5-fpm.sock;
fastcgi_index                index.php;
fastcgi_param                SCRIPT_FILENAME  $document_root$fastcgi_script_name;
include fastcgi_params;
fastcgi_param                QUERY_STRING $query_string;
fastcgi_param                REQUEST_METHOD $request_method;
fastcgi_param                CONTENT_TYPE $content_type;
fastcgi_param                CONTENT_LENGTH $content_length;
fastcgi_intercept_errors     on;
fastcgi_ignore_client_abort  off;
fastcgi_connect_timeout      60;
fastcgi_send_timeout         180;
fastcgi_read_timeout         180;
fastcgi_buffer_size          128k;
fastcgi_buffers              4  256k;
fastcgi_busy_buffers_size    256k;
fastcgi_temp_file_write_size 256k;
</code></pre>

<p>Then create a symlink to the <code>sites-enabled</code> directory to activate the new virtual host.</p>

<pre><code class="language-bash">sudo ln -s /etc/nginx/sites-available/app.phppgadmin.dev /etc/nginx/sites-enabled/app.phppgadmin.dev
</code></pre>

<p>Lastly, edit <code>/etc/hosts</code> and add your newly created virtual host.</p>

<pre><code class="language-bash">127.0.0.1 localhost
127.0.0.1 app.phppgadmin.dev #this is the added line

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
</code></pre>

<h3 id="further-notes:e015295be2249bad12948027ea58e47d">Further Notes</h3>

<p>For more info about creating a virtual host for nginx, see <a href="https://www.digitalocean.com/community/tutorials/how-to-install-laravel-with-nginx-on-an-ubuntu-12-04-lts-vps">Digital Ocean&rsquo;s guide</a>.</p>

<p>We used this <a href="https://xdev.me/article/Install_phpPgAdmin_on_Ubuntu">resource</a> for the installation and set-up of phppgadmin. We added more modifications as a fix for some encountered errors.</p>
 <div class="line-divider"></div> <section class="post-author-info"><div class="post-author-title">  About <a class="label" href="/authors/neil">Neil Calabroso</a> <div class="color-csi"> CSI Development Commitee Head 14-15</div> </div><div> <div class="post-author-bio"> Likes mireya</div>  </span> <a href="http://twitter.com/NMCalabroso">@NMCalabroso</a></span> </div></section> </article></div> </div><footer><p>Made with <span class="color-pink">Love</span> &copy; UP CSI</p></footer> <script src="/js/vendor.bundle.js"></script><script src="/js/main.bundle.js"></script> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', "UA-69207349-1", 'auto');
  ga('send', 'pageview');
</script> </body></html>